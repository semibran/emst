"use strict";var _slicedToArray=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}!function(){var E=function(e,r){for(var t=0,n=Math.max(e.length,r.length),a=0;a<n;a++){var o=(r[a]||0)-(e[a]||0);t+=o*o}return Math.sqrt(t)},e=Math.min(window.innerWidth,window.innerHeight),r={edges:[],nodes:new Array(512).fill().map(function(e){var r=2*Math.random()*Math.PI,t=Math.sqrt(Math.random());return[Math.cos(r)*t,Math.sin(r)*t]})};r.nodes.sort(function(e,r){return E([0,0],e)-E([0,0],r)});for(var t=0;t<r.nodes.length-1;t++)for(var n=t+1;n<r.nodes.length;n++)r.edges.push({endpoints:[t,n],weight:E(r.nodes[t],r.nodes[n])});var F={graph:function(e){for(var r={nodes:e.nodes.slice(),edges:[]},t=e.edges.slice().sort(function(e,r){return e.weight-r.weight}),n=[0],a=0;n.length<e.nodes.length;a++)for(var o=t[a],i=o.endpoints[0],l=o.endpoints[1],s=0;s<n.length;s++){var h=n[s],d=-1;if(i===h?d=l:l===h&&(d=i),-1!==d){-1===n.indexOf(d)&&(n.push(d),r.edges.push(o),t.splice(a,1),a=-1);break}}return r}(r),animation:{phase:"spawn",nodes:[],edges:[],lines:[],history:[]},viewport:{scale:e/2.5,halfsize:[e/2,e/2],position:[0,0]}},j=H(F);function H(e,r){var t=e.animation,n=e.viewport,a=function(e,r,t){return r*e.scale+e.halfsize[t]-e.position[t]}.bind(null,n),o=null;r?o=r.canvas:(r=(o=document.createElement("canvas")).getContext("2d"),o.width=2*n.halfsize[0],o.height=2*n.halfsize[1]),r.clearRect(0,0,o.width,o.height);var i=!0,l=!1,s=void 0;try{for(var h,d=t.lines[Symbol.iterator]();!(i=(h=d.next()).done);i=!0){var u,c,f=h.value;r.strokeStyle="gray",r.beginPath(),(u=r).moveTo.apply(u,_toConsumableArray(f.origin.map(a))),(c=r).lineTo.apply(c,_toConsumableArray(f.position.map(a))),r.stroke()}}catch(e){l=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(l)throw s}}var g=!0,p=!1,y=void 0;try{for(var v,m=t.nodes[Symbol.iterator]();!(g=(v=m.next()).done);g=!0){var b,w=v.value;r.fillStyle="white",r.beginPath(),(b=r).arc.apply(b,_toConsumableArray(w.map(a)).concat([1,0,2*Math.PI])),r.fill()}}catch(e){p=!0,y=e}finally{try{!g&&m.return&&m.return()}finally{if(p)throw y}}var A=!0,M=!1,S=void 0;try{for(var _,x=t.edges[Symbol.iterator]();!(A=(_=x.next()).done);A=!0){var C,P,T,k,q=_.value,I=_slicedToArray(q,2),z=I[0],O=I[1];r.strokeStyle="white",r.beginPath(),(C=r).moveTo.apply(C,_toConsumableArray(z.map(a))),(P=r).lineTo.apply(P,_toConsumableArray(O.map(a))),r.stroke(),r.fillStyle="white",r.beginPath(),(T=r).arc.apply(T,_toConsumableArray(z.map(a)).concat([2,0,2*Math.PI])),r.fill(),r.beginPath(),(k=r).arc.apply(k,_toConsumableArray(O.map(a)).concat([2,0,2*Math.PI])),r.fill()}}catch(e){M=!0,S=e}finally{try{!A&&x.return&&x.return()}finally{if(M)throw S}}return r}document.body.appendChild(j.canvas),requestAnimationFrame(function e(){var r=F.graph,t=F.animation;t[t.phase];if("spawn"===t.phase){t.nodes.length<r.nodes.length&&t.nodes.push([0,0]);for(var n=0,a=0;a<t.nodes.length;a++){var o=t.nodes[a],i=r.nodes[a],l=(t.nodes[a]=[o[0]+(i[0]-o[0])/16,o[1]+(i[1]-o[1])/16],E(o,i));n<l&&(n=l)}n<1/256&&(t.phase="connect",t.nodes=r.nodes)}else if("connect"===t.phase){var s=t.lines,h=t.history;if(!s.length){var d={distance:1/0,node:null},u=!0,c=!1,f=void 0;try{for(var g,p=r.nodes[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var y=g.value,v=Math.sqrt(y[0]*y[0]+y[1]*y[1]);v<d.distance&&(d.distance=v,d.node=y)}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}h.push(d.node),s.push({origin:d.node,position:d.node.slice(),target:null})}for(var m=0;m<s.length;m++){var b=s[m];if(!b.target){var w=!0,A=!1,M=void 0;try{for(var S,_=r.edges[Symbol.iterator]();!(w=(S=_.next()).done);w=!0){var x=S.value,C=x.endpoints.map(function(e){return r.nodes[e]}),P=_slicedToArray(C,2),T=P[0],k=P[1],q=null;T===b.origin?q=k:k===b.origin&&(q=T),q&&-1===h.indexOf(q)&&(h.push(q),b.target?s.push({origin:b.origin,position:b.origin.slice(),target:q}):b.target=q)}}catch(e){A=!0,M=e}finally{try{!w&&_.return&&_.return()}finally{if(A)throw M}}if(!b.target){s.splice(m--,1);continue}}var I=E(b.position,b.target);if(I<1/64)t.edges.push([b.origin,b.target]),b.origin=b.target,b.position=b.target.slice(),b.target=null,t.edges.length===r.edges.length&&(t.phase="done");else{var z=[b.target[0]-b.origin[0],b.target[1]-b.origin[1]],O=Math.atan2(z[1],z[0]);b.position[0]+=1*Math.cos(O)/64,b.position[1]+=1*Math.sin(O)/64}}}H(F,j);"done"!==t.phase&&requestAnimationFrame(e)})}();